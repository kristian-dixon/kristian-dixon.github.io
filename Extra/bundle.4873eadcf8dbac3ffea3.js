(()=>{"use strict";var r=1e-6,e="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function t(){var r=new e(16);return e!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function n(e,t,n,o){var a,i,l,c,u,f,s,v,h,d,A,b,R,m,E,p,x,F,g,y,M,T,_,w,L=o[0],S=o[1],P=o[2],B=Math.hypot(L,S,P);return B<r?null:(L*=B=1/B,S*=B,P*=B,a=Math.sin(n),l=1-(i=Math.cos(n)),c=t[0],u=t[1],f=t[2],s=t[3],v=t[4],h=t[5],d=t[6],A=t[7],b=t[8],R=t[9],m=t[10],E=t[11],p=L*L*l+i,x=S*L*l+P*a,F=P*L*l-S*a,g=L*S*l-P*a,y=S*S*l+i,M=P*S*l+L*a,T=L*P*l+S*a,_=S*P*l-L*a,w=P*P*l+i,e[0]=c*p+v*x+b*F,e[1]=u*p+h*x+R*F,e[2]=f*p+d*x+m*F,e[3]=s*p+A*x+E*F,e[4]=c*g+v*y+b*M,e[5]=u*g+h*y+R*M,e[6]=f*g+d*y+m*M,e[7]=s*g+A*y+E*M,e[8]=c*T+v*_+b*w,e[9]=u*T+h*_+R*w,e[10]=f*T+d*_+m*w,e[11]=s*T+A*_+E*w,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});var o=function(r,e,t,n,o){var a,i=1/Math.tan(e/2);return r[0]=i/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,null!=o&&o!==1/0?(a=1/(n-o),r[10]=(o+n)*a,r[14]=2*o*n*a):(r[10]=-1,r[14]=-2*n),r};var a=function(r,e,t,n){return new(t||(t=Promise))((function(o,a){function i(r){try{c(n.next(r))}catch(r){a(r)}}function l(r){try{c(n.throw(r))}catch(r){a(r)}}function c(r){var e;r.done?o(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(i,l)}c((n=n.apply(r,e||[])).next())}))},i=function(r,e){var t,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(r,i)}catch(r){a=[6,r],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function l(r,e,t){var n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),r.getShaderParameter(n,r.COMPILE_STATUS)?n:(alert("An error occurred compiling the shaders: "+r.getShaderInfoLog(n)),r.deleteShader(n),null)}window.onload=function(){var r=document.createElement("h1");r.innerText="Hello Web :)",document.querySelector("body").appendChild(r);var e=document.querySelector("#glCanvas").getContext("webgl");if(null!==e){e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT);var c=function(r,e,t){var n=l(r,r.VERTEX_SHADER,e),o=l(r,r.FRAGMENT_SHADER,t),a=r.createProgram();if(r.attachShader(a,n),r.attachShader(a,o),r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS))return alert("Unable to initialize the shader program: "+r.getProgramInfoLog(a)),null;return a}(e,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n","\n\tvarying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n"),u={program:c,attribLocations:{vertexPosition:e.getAttribLocation(c,"aVertexPosition"),vertexColor:e.getAttribLocation(c,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(c,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(c,"uModelViewMatrix")}},f=function(r){var e=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,e);var t=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW);for(var n=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]],o=[],a=0;a<n.length;++a){var i=n[a];o=o.concat(i,i,i,i)}var l=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,new Float32Array(o),r.STATIC_DRAW);var c=r.createBuffer();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,c);var u=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];return r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(u),r.STATIC_DRAW),{position:e,color:l,indices:c}}(e);!function(r,e,l){a(this,void 0,void 0,(function(){var a;return i(this,(function(i){switch(i.label){case 0:a=0,i.label=1;case 1:return function(r,e,a,i){r.clearColor(0,0,0,1),r.clearDepth(1),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);var l=45*Math.PI/180,c=r.canvas.clientWidth/r.canvas.clientHeight,u=.1,f=100,s=t();o(s,l,c,u,f);var v=t();h=v,d=v,A=[0,0,-6],w=A[0],L=A[1],S=A[2],d===h?(h[12]=d[0]*w+d[4]*L+d[8]*S+d[12],h[13]=d[1]*w+d[5]*L+d[9]*S+d[13],h[14]=d[2]*w+d[6]*L+d[10]*S+d[14],h[15]=d[3]*w+d[7]*L+d[11]*S+d[15]):(b=d[0],R=d[1],m=d[2],E=d[3],p=d[4],x=d[5],F=d[6],g=d[7],y=d[8],M=d[9],T=d[10],_=d[11],h[0]=b,h[1]=R,h[2]=m,h[3]=E,h[4]=p,h[5]=x,h[6]=F,h[7]=g,h[8]=y,h[9]=M,h[10]=T,h[11]=_,h[12]=b*w+p*L+y*S+d[12],h[13]=R*w+x*L+M*S+d[13],h[14]=m*w+F*L+T*S+d[14],h[15]=E*w+g*L+_*S+d[15]),n(v,v,.7*i,[0,1,0]),n(v,v,.7*i,[1,0,0]);var h,d,A,b,R,m,E,p,x,F,g,y,M,T,_,w,L,S;var P=3,B=r.FLOAT,C=!1,U=0,I=0;r.bindBuffer(r.ARRAY_BUFFER,a.position),r.vertexAttribPointer(e.attribLocations.vertexPosition,P,B,C,U,I),r.enableVertexAttribArray(e.attribLocations.vertexPosition);P=4,B=r.FLOAT,C=!1,U=0,I=0;r.bindBuffer(r.ARRAY_BUFFER,a.color),r.vertexAttribPointer(e.attribLocations.vertexColor,P,B,C,U,I),r.enableVertexAttribArray(e.attribLocations.vertexColor),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.indices),r.useProgram(e.program),r.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,s),r.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,v);var V=36;B=r.UNSIGNED_SHORT,I=0;r.drawElements(r.TRIANGLES,V,B,I)}(r,e,l,a+=1/60),[4,new Promise((function(r){return setTimeout(r,16)}))];case 2:return i.sent(),[3,1];case 3:return[2]}}))}))}(e,u,f)}else alert("WEBGL SAYS NO!")}})();